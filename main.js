!function(e){var t={};function o(d){if(t[d])return t[d].exports;var n=t[d]={i:d,l:!1,exports:{}};return e[d].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=t,o.d=function(e,t,d){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:d})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var d=Object.create(null);if(o.r(d),Object.defineProperty(d,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(d,n,function(t){return e[t]}.bind(null,n));return d},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=4)}([function(e,t,o){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var o=function(e,t){var o=e[1]||"",d=e[3];if(!d)return o;if(t&&"function"==typeof btoa){var n=(i=d,a=btoa(unescape(encodeURIComponent(JSON.stringify(i)))),l="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(a),"/*# ".concat(l," */")),r=d.sources.map((function(e){return"/*# sourceURL=".concat(d.sourceRoot||"").concat(e," */")}));return[o].concat(r).concat([n]).join("\n")}var i,a,l;return[o].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(o,"}"):o})).join("")},t.i=function(e,o,d){"string"==typeof e&&(e=[[null,e,""]]);var n={};if(d)for(var r=0;r<this.length;r++){var i=this[r][0];null!=i&&(n[i]=!0)}for(var a=0;a<e.length;a++){var l=[].concat(e[a]);d&&n[l[0]]||(o&&(l[2]?l[2]="".concat(o," and ").concat(l[2]):l[2]=o),t.push(l))}},t}},function(e,t,o){var d=o(2),n=o(3);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var r={insert:"head",singleton:!1};d(n,r);e.exports=n.locals||{}},function(e,t,o){"use strict";var d,n=function(){return void 0===d&&(d=Boolean(window&&document&&document.all&&!window.atob)),d},r=function(){var e={};return function(t){if(void 0===e[t]){var o=document.querySelector(t);if(window.HTMLIFrameElement&&o instanceof window.HTMLIFrameElement)try{o=o.contentDocument.head}catch(e){o=null}e[t]=o}return e[t]}}(),i=[];function a(e){for(var t=-1,o=0;o<i.length;o++)if(i[o].identifier===e){t=o;break}return t}function l(e,t){for(var o={},d=[],n=0;n<e.length;n++){var r=e[n],l=t.base?r[0]+t.base:r[0],c=o[l]||0,s="".concat(l," ").concat(c);o[l]=c+1;var u=a(s),p={css:r[1],media:r[2],sourceMap:r[3]};-1!==u?(i[u].references++,i[u].updater(p)):i.push({identifier:s,updater:g(p,t),references:1}),d.push(s)}return d}function c(e){var t=document.createElement("style"),d=e.attributes||{};if(void 0===d.nonce){var n=o.nc;n&&(d.nonce=n)}if(Object.keys(d).forEach((function(e){t.setAttribute(e,d[e])})),"function"==typeof e.insert)e.insert(t);else{var i=r(e.insert||"head");if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(t)}return t}var s,u=(s=[],function(e,t){return s[e]=t,s.filter(Boolean).join("\n")});function p(e,t,o,d){var n=o?"":d.media?"@media ".concat(d.media," {").concat(d.css,"}"):d.css;if(e.styleSheet)e.styleSheet.cssText=u(t,n);else{var r=document.createTextNode(n),i=e.childNodes;i[t]&&e.removeChild(i[t]),i.length?e.insertBefore(r,i[t]):e.appendChild(r)}}function m(e,t,o){var d=o.css,n=o.media,r=o.sourceMap;if(n?e.setAttribute("media",n):e.removeAttribute("media"),r&&btoa&&(d+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),e.styleSheet)e.styleSheet.cssText=d;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(d))}}var f=null,b=0;function g(e,t){var o,d,n;if(t.singleton){var r=b++;o=f||(f=c(t)),d=p.bind(null,o,r,!1),n=p.bind(null,o,r,!0)}else o=c(t),d=m.bind(null,o,t),n=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(o)};return d(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;d(e=t)}else n()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=n());var o=l(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var d=0;d<o.length;d++){var n=a(o[d]);i[n].references--}for(var r=l(e,t),c=0;c<o.length;c++){var s=a(o[c]);0===i[s].references&&(i[s].updater(),i.splice(s,1))}o=r}}}},function(e,t,o){"use strict";o.r(t);var d=o(0),n=o.n(d)()(!1);n.push([e.i,'*,*::before,*::after{margin:0;padding:0;border:0;font-size:100%;font-family:"Trebuchet MS","Lucida Sans Unicode","Lucida Grande","Lucida Sans",Arial,sans-serif;vertical-align:baseline;box-sizing:border-box}body{background-color:#1b0e27}body h1{color:#fff;font-size:3em;padding:.5em 0;text-align:center}body .notice{display:none;margin:0 auto;color:#fff;text-align:center;font-size:1.3em;background-color:red}body .sub-container{display:flex;padding:1em}body .projects{color:#1b0e27;width:27%;padding:.5em;background-color:#b8b9bb}body .projects .p-list{padding:1em}body .projects .p-list .p{display:inline-block;padding:.5em 0;font-weight:bolder;font-size:1.2em}body .projects .p-list .p:hover{cursor:pointer}body .projects .p-list .delete-p{padding:.4em .8em;background-color:red;color:#fff;cursor:pointer;border-radius:.25em;padding:.2em .6em}body .projects .p-list .add-todo{color:#fff;font-weight:bolder;font-size:x-large;background-color:blue;padding:.05em .4em;border-radius:.25em;font-size:large;margin:0 .5em;padding:.1em .5em}body .projects .p-list .add-todo:hover{cursor:pointer}body .projects .p-header{font-weight:bolder;font-size:x-large;padding-bottom:.5em}body .projects .new-p{display:flex;justify-content:center;padding:.7em;background-color:#1b0e27;border-radius:.4em}body .projects .new-p input[type=text]{padding:.4em .3em;margin-right:1em}body .projects .new-p .create-p{color:#fff;font-weight:bolder;font-size:x-large;background-color:blue;padding:.05em .4em;border-radius:.25em}body .projects .new-p .create-p:hover{cursor:pointer}body .todos{color:#fff;width:73%;margin:0 2em}body .todos .todo-table{width:100%}body .todos th,body .todos td{border:1px solid #fff;padding:.5em;font-size:1.2em}body .todos .edit-todo-button,body .todos .delete-todo-button{margin:0 .5em;cursor:pointer}body .todos .t-header{font-weight:bolder;font-size:x-large;padding-bottom:.5em}body .todos .new-todo{color:#fff;font-weight:bolder;font-size:x-large;background-color:blue;padding:.05em .4em;border-radius:.25em;margin-top:1em}body .todos .new-todo:hover{cursor:pointer}body .todos .update-todo{position:relative;background-color:#b8b9bb;color:#1b0e27;margin:1em auto;padding:1em 5em}body .todos .update-todo p{font-weight:bolder;font-size:1.2em}body .todos .update-todo .tu-title,body .todos .update-todo .tu-desc,body .todos .update-todo .tu-date{display:block;width:100%;color:#1b0e27;padding:.5em;margin:2em 0;border-bottom:.15em solid #1b0e27;border-radius:.4em}body .todos .update-todo .update-t{position:absolute;right:5em;bottom:1em;padding:.4em .8em;background-color:red;color:#fff;cursor:pointer;background-color:blue}body .todos .modal{display:none;position:fixed;top:0;left:0;right:0;bottom:0;background-color:rgba(197,196,196,.5)}body .todos .modal .new-t{width:50%;background-color:#fff;color:#1b0e27;padding:1.5em;position:absolute;top:40%;left:50%;transform:translate(-50%, -50%)}body .todos .modal .new-t p{color:#fff;background-color:#1b0e27;font-weight:bolder;font-size:large;margin-bottom:2em;padding:.4em .8em}body .todos .modal .new-t .t-title,body .todos .modal .new-t .t-desc,body .todos .modal .new-t .t-date,body .todos .modal .new-t div{display:block;width:100%;color:#1b0e27;padding:.5em;margin:2em 0;border-bottom:.15em solid #1b0e27;border-radius:.4em}body .todos .modal .new-t div{border-bottom:unset}body .todos .modal .new-t .t-title{margin:1em 0}body .todos .modal .new-t .create-t{color:#fff;font-weight:bolder;font-size:x-large;background-color:blue;padding:.05em .4em;border-radius:.25em;font-weight:unset;font-size:unset;padding:.4em .8em;border-radius:unset}body .todos .modal .new-t .create-t:hover{cursor:pointer}body .todos .modal .new-t .close{position:absolute;right:1.5em;bottom:1.5em;padding:.4em .8em;background-color:red;color:#fff;cursor:pointer}.high,.medium,.low{font-weight:bolder}.high{color:red}.medium{color:#ff0}.low{color:green}',""]),t.default=n},function(e,t,o){"use strict";o.r(t);var d=(()=>{const e=(e,t="",o="",d="")=>{const n=document.createElement(e);return n.innerText=t,n.className+=d,n.setAttribute("id",o),n};return{tag:e,formTag:(t,o="",d="",n="",r="",i="")=>{const a=e(t,o,d,n);return a.setAttribute("type",r),a.setAttribute("placeholder",i),a},radioTag:(e="",t="",o="",d="")=>{const n=document.createElement("input");return n.setAttribute("type","radio"),n.setAttribute("id",e),n.setAttribute("class",o),n.setAttribute("name",t),n.setAttribute("value",d),n}}})();var n=class{constructor(e,t){this.id=e,this.name=t,this.todoList=[]}};var r=class{constructor(e,t,o,d,n){this.id=e,this.title=t,this.desc=o,this.dueDate=d,this.priority=n}};var i=(()=>{const e=(e,t,o="",d=!1)=>{e.innerText=t,""!==o&&(e.style.background=o),d&&setTimeout(()=>{location.reload()},3e3),e.style.display="block",setTimeout(()=>{e.innerText="",e.style.display="none"},3e3)},t=e=>JSON.parse(localStorage.getItem(e)),o=(e,t,o)=>""!==e&&""!==t&&""!==o,i=e=>{const t=Array.from(e);let o=!1;return t.forEach(e=>{!0===e.checked&&(o=e.id)}),o},a=(e,t)=>(localStorage.setItem(e,JSON.stringify(t)),!0);return{addProject:e=>{if((e=>""!==e)(e)){const t=localStorage.length,o=JSON.stringify(new n(t+1,e));return localStorage.setItem(t,o),!0}return!1},allProjects:()=>{const e=d.tag("div","","p-list","p-list");for(let o=0;o<localStorage.length;o+=1){const n=localStorage.key(o);if("number"==typeof parseInt("key",10)){const o=d.tag("div");o.appendChild(d.tag("p","> "+t(n).name,""+n,"p")),o.appendChild(d.tag("button","+",n,"add-todo")),o.appendChild(d.tag("button","x",n,"delete-p")),e.appendChild(o)}}return e},deleteProject:e=>{let t;t="0"===e?confirm("This is the default Project. Are you sure you want to delete?"):confirm("This project and its tasks (todo) will be deleted. Are you sure?"),!0===t&&(localStorage.removeItem(e),location.reload())},getProject:t,addTodo:(d,n,a,l,c,s)=>{const u=i(c);o(n,a,l)&&u?(((e,o,d,n,i)=>{const a=t(e),l=a.todoList.length+1,c=new r(l,o,d,n,i);a.todoList.push(c),localStorage.setItem(e,JSON.stringify(a))})(s,n,a,l,u),e(d,"Todo added successfully.","green",!0)):e(d,"All fields are compulsory.")},displayTodos:(e,o,n,r)=>{const i=t(e),a=i.todoList;o.innerHTML="",o.appendChild(d.tag("p","Current Project: "+i.name,"t-header","t-header")),a.forEach(e=>{const t=d.tag("tr");var o;t.appendChild(d.tag("td",e.id)),t.appendChild(d.tag("td",e.title)),t.appendChild(d.tag("td",new Date(e.dueDate).toUTCString())),t.appendChild(("High"===(o=d.tag("td",e.priority)).innerText?o.classList.add("high"):"Medium"===o.innerText?o.classList.add("medium"):o.classList.add("low"),o)),t.appendChild(((e,t)=>{const o=d.tag("td","","todo-action","todo0action");return o.innerHTML=`\n      <span class="edit-todo-button" id="edit-todo-button" data-project="${e}" data-todo="${t}">\n        &#128221;\n      </span>\n      <span class="delete-todo-button" id="delete-todo-button" data-project="${e}" data-todo="${t}">\n        &#128686;\n      </span>\n      `,o})(i.id,e.id)),n.appendChild(t)}),o.appendChild(n),o.appendChild(r)},deleteTodo:(e,o)=>{if(confirm("Are you sure you want to delete this task?")){const d=t(e-1);d.todoList.splice(o-1,1),a(e-1,d)&&location.reload()}},editTodo:(e,o,d,n)=>{(e=>{const t=e.lastChild;"update-todo"===t.className&&e.removeChild(t)})(e),e.appendChild(((e,o,d)=>{const n=t(o-1).todoList[d-1];return e(n.title,n.desc,n.dueDate)})(o,d,n))},updateTodo:(d,n,r,l)=>{const c=t(r-1),s=c.todoList[l-1],u=i(n.priority);if(o(n.title,n.desc,n.date)&&u)return n.priority=u,((e,t,o,d,n)=>{d.title=n.title,d.desc=n.desc,d.dueDate=n.dueDate,d.priority=n.priority,t.todoList[o-1]=d,a(e,t)})(r-1,c,l,s,n),void e(d,"Todo update successful.","green",!0);e(d,"All fields are compulsory")},getFormData:(e="")=>({title:document.getElementById(""===e?"t-title":"tu-title").value,desc:document.getElementById(""===e?"t-desc":"tu-desc").value,dueDate:document.getElementById(""===e?"t-date":"tu-date").value,priority:document.querySelectorAll(""===e?".priority":".u-priority")}),setNotice:e}})();const{tag:a,formTag:l,radioTag:c}=d,s=document.getElementById("content"),u=a("h1","Todo List App","header","header"),p=a("p","notifications here","notice","notice"),m=a("section","","projects","projects"),f=a("section","","todos","todos"),b=a("button","Close","close","close"),g=a("button","+","create-p","create-p");var h=(()=>{const e=(e="",t="",o="")=>{let d,n,r,i,s;return""===e?(d=a("form","","new-t","new-t"),n=a("button","Add Todo","create-t","create-t"),r=l("input","","t-title","t-title","text","title here"),i=l("textarea","","t-desc","t-desc","","description"),s=l("input","","t-date","t-date","datetime-local",""),d.appendChild(a("p","New Todo"))):(d=a("form","","update-todo","update-todo"),n=a("button","Update Todo","update-t","update-t"),r=l("input","","tu-title","tu-title","text","title here"),i=l("textarea",t,"tu-desc","tu-desc","","description"),s=l("input","","tu-date","tu-date","datetime-local",""),r.setAttribute("value",e),s.setAttribute("value",o),d.appendChild(a("p","Edit Todo"))),d.appendChild(r),d.appendChild(i),d.appendChild(s),d.appendChild((e=>{const t=["Low","Medium","High"],o=a(""===e?"div":"section","Priority: ");for(let d=0;d<t.length;d+=1){const n=a("label",t[d]);n.setAttribute("for",t[d]);const r=c(t[d],""===e?"priority":"u-priority",""===e?"priority":"u-priority",t[d]);o.appendChild(r),o.appendChild(n)}return o})(e)),d.appendChild(n),d},t=()=>{const t=a("div","","modal","modal"),o=e();return o.appendChild(b),t.appendChild(o),t},o=e=>(e.appendChild(a("p","Click on a project to view tasks","t-header","t-header")),e.appendChild(t()),e);return{notice:p,todos:f,todoSection:o,render:()=>{const e=a("div","","sub-container","sub-container");m.appendChild(a("p","All Projects","p-header","p-header")),m.appendChild(i.allProjects()),m.appendChild((e=>{const t=a("div","","new-p","new-p"),o=l("input","","project-name","project-name","text","Project Name here");return o.setAttribute("required","required"),t.appendChild(o),t.appendChild(e),t})(g)),e.appendChild(m),e.appendChild(o(f)),s.appendChild(u),s.appendChild(p),s.appendChild(e)},todoForm:t,showForm:e=>{e.style.display="block"},hideForm:e=>{e.style.display="none"},closeButton:b,newProjectButton:g,todoTable:()=>{const e=d.tag("table","","todo-table","todo-table"),t=d.tag("tr");return t.appendChild(d.tag("th","#")),t.appendChild(d.tag("th","Title")),t.appendChild(d.tag("th","Due Date")),t.appendChild(d.tag("th","Priority")),t.appendChild(d.tag("th","Action")),e.appendChild(t),e},formElements:e}})();var y={dProject:()=>{if(0===localStorage.length){const e=new n(1,"General"),t=new r(1,"Concatenate Conference","With standup team","2020-09-02T12:21","High"),o=new r(2,"Rails Meetup","With students","2020-09-02T12:21","Medium");e.todoList.push(t),e.todoList.push(o),localStorage.setItem(0,JSON.stringify(e))}}};o(1);const{notice:v,todoTable:w,todoForm:C,render:j,showForm:T,hideForm:k,closeButton:S,newProjectButton:x,formElements:E}=h;y.dProject(),j();document.querySelectorAll(".add-todo").forEach(e=>{e.addEventListener("click",()=>{const t=document.getElementById("modal");var o;T(t),o=e.id,document.querySelector(".create-t").addEventListener("click",e=>{e.preventDefault();const t=i.getFormData(),d=document.getElementById("modal");k(d),i.addTodo(v,t.title,t.desc,t.dueDate,t.priority,o)})})}),S.addEventListener("click",e=>{e.preventDefault();const t=document.getElementById("modal");k(t)}),x.addEventListener("click",()=>{const e=document.getElementById("project-name").value;e?(i.addProject(e),location.reload()):i.setNotice(v,"Project name cannot be blank")});document.querySelectorAll(".delete-p").forEach(e=>{e.addEventListener("click",()=>{i.deleteProject(e.id)})});document.querySelectorAll(".p").forEach(e=>{e.addEventListener("click",()=>{const t=document.getElementById("todos");i.displayTodos(e.id,t,w(),C()),document.querySelectorAll(".delete-todo-button").forEach(e=>{e.addEventListener("click",()=>{i.deleteTodo(e.dataset.project,e.dataset.todo)})}),document.querySelectorAll(".edit-todo-button").forEach(e=>{e.addEventListener("click",()=>{const t=document.getElementById("todos"),o=e.dataset.project,d=e.dataset.todo;i.editTodo(t,E,o,d),document.getElementById("update-t").addEventListener("click",e=>{e.preventDefault();const t=i.getFormData(d);i.updateTodo(v,t,o,d)})})})})})}]);